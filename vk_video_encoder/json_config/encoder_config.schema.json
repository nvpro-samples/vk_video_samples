{
  "$schema": "https://json-schema.org/draft/07/schema#",
  "$id": "https://example.com/encoder_config.schema.json",
  "title": "EncoderConfig",
  "description": "Vulkan Video Encoder configuration. JSON is loaded first (base config); command-line parameters override. Source: VkEncoderConfig (EncoderConfig), encoder_config.example.json in this directory.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "codec": { "type": "string", "enum": ["h264", "h265", "hevc", "av1"], "description": "Video codec. hevc treated as h265." },
    "outputPath": { "type": "string", "minLength": 1, "maxLength": 255, "description": "Bitstream output file path." },
    "encodeWidth": { "type": "integer", "minimum": 1, "maximum": 16384, "description": "Encode output width." },
    "encodeHeight": { "type": "integer", "minimum": 1, "maximum": 16384, "description": "Encode output height." },
    "rcMode": { "type": "string", "enum": ["cqp", "cbr", "vbr"], "description": "Rate control: cqp, cbr, vbr." },
    "averageBitrate": { "type": "integer", "minimum": 0, "description": "Target average bitrate in bits/sec." },
    "maxBitrate": { "type": "integer", "minimum": 0, "description": "Max bitrate in bits/sec (VBR)." },
    "vbvBufferSize": { "type": "integer", "minimum": 0, "description": "VBV/HRD buffer size in bits. 0 = auto." },
    "constQpI": { "type": "integer", "minimum": -1, "maximum": 51, "description": "Constant QP for I frames." },
    "constQpP": { "type": "integer", "minimum": -1, "maximum": 51, "description": "Constant QP for P frames." },
    "constQpB": { "type": "integer", "minimum": -1, "maximum": 51, "description": "Constant QP for B frames." },
    "qp": { "type": "integer", "minimum": -1, "maximum": 51, "description": "Single constant QP (I/P); -1 = auto." },
    "minQp": { "type": "integer", "minimum": -1, "maximum": 51 },
    "maxQp": { "type": "integer", "minimum": -1, "maximum": 51 },
    "gopLength": { "type": "integer", "minimum": 0, "description": "Frames per GOP." },
    "bFrameCount": { "type": "integer", "minimum": 0, "description": "B-frames between I/P." },
    "idrPeriod": { "type": "integer", "minimum": 0, "description": "IDR period; 0 = every GOP starts with IDR." },
    "closedGop": { "type": "boolean" },
    "frameRateNum": { "type": "integer", "minimum": 1 },
    "frameRateDen": { "type": "integer", "minimum": 1 },
    "qualityPreset": { "type": "integer", "minimum": 0, "maximum": 7 },
    "colourPrimaries": { "type": "integer", "minimum": 0, "maximum": 255 },
    "transferCharacteristics": { "type": "integer", "minimum": 0, "maximum": 255 },
    "matrixCoefficients": { "type": "integer", "minimum": 0, "maximum": 255 },
    "videoFullRange": { "type": "boolean" },
    "verbose": { "type": "boolean" },
    "validate": { "type": "boolean" }
  }
}
